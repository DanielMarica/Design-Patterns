<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semaine 2 - Strategy & Decorator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Semaine 2</h1>
            <p>Strategy & Decorator</p>
        </header>

        <nav>
            <a href="index.html">Accueil</a>
            <a href="theory.html">Th√©orie</a>
        </nav>

        <main>
            <h2>Exercice : Patterns Strategy & Decorator</h2>
            <p><strong>Description :</strong> Impl√©mentation des patterns Strategy et Decorator pour illustrer la flexibilit√© des comportements et l'ajout dynamique de fonctionnalit√©s.</p>
            <p><strong>Patterns utilis√©s :</strong> Strategy, Decorator</p>
            <hr>

            <section>
                <h2>Strategy Pattern</h2>
                <h3>Th√©orie</h3>
                <h4>Comment le reconna√Ætre ?</h4>
                <p>
                    Je reconnais <strong>Strategy</strong> gr√¢ce √† un attribut de type interface (ex : <code>private Parcourir strategie</code>) inject√© dans le constructeur ou via un setter. La classe d√©l√®gue via <code>strategie.method()</code>, on peut changer de strat√©gie √† l'ex√©cution, et <strong>Strategy a UNE seule m√©thode</strong> (sinon c'est Visitor avec plusieurs m√©thodes).
                </p>
                <figure style="text-align:center;">
                    <img src="assets/th/strategy.png" alt="Strategy UML Diagram (Th√©orie)" style="max-width: 100%; height: auto; border: 1px solid #ccc; box-shadow: 2px 2px 8px #eee;">
                    <figcaption>Figure¬†: Diagramme UML du pattern Strategy (Th√©orie)</figcaption>
                </figure>
                <h3>Exercice</h3>
                <figure style="text-align:center;">
                    <img src="assets/exos/Strategy.png" alt="Strategy UML Diagram (Exercice)" style="max-width: 100%; height: auto; border: 1px solid #ccc; box-shadow: 2px 2px 8px #eee;">
                    <figcaption>Figure¬†: Diagramme UML du pattern Strategy (Exercice)</figcaption>
                </figure>
            </section>

            <section>
                <h2>Decorator Pattern</h2>
                <h3>Th√©orie</h3>
                <h4>Comment le reconna√Ætre ?</h4>
                <p>
                    Je reconnais <strong>Decorator</strong> car une classe impl√©mente une interface ET a un attribut de cette m√™me interface. L'instanciation se fait via un cha√Ænage de <code>new()</code> : <code>new Lait(new Sucre(new Decafeine()))</code> qui finit par le component de base (PAS null). Chaque d√©corateur appelle <code>super(component)</code> et ajoute une fonctionnalit√© via <code>component.method()</code>. <strong>ATTENTION : NE PAS CONFONDRE AVEC CHAIN OF RESPONSIBILITY !</strong>
                </p>
                <figure style="text-align:center;">
                    <img src="assets/th/Decorator.png" alt="Decorator UML Diagram (Th√©orie)" style="max-width: 100%; height: auto; border: 1px solid #ccc; box-shadow: 2px 2px 8px #eee;">
                    <figcaption>Figure¬†: Diagramme UML du pattern Decorator (Th√©orie)</figcaption>
                </figure>
                <h3>Exercice</h3>
                <figure style="text-align:center;">
                    <img src="assets/exos/Decorator.png" alt="Decorator UML Diagram (Exercice)" style="max-width: 100%; height: auto; border: 1px solid #ccc; box-shadow: 2px 2px 8px #eee;">
                    <figcaption>Figure¬†: Diagramme UML du pattern Decorator (Exercice)</figcaption>
                </figure>
            </section>

            <hr>

            <!-- <h2>Code Principal</h2> -->
            <!-- Ajoutez ici le code principal pour l'exemple Strategy et Decorator -->
             <h2>Strategy vs Visitor</h2>
<div style="background-color: #f9f9f9; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h3>üéØ Strategy Pattern</h3>
    <ul>
        <li><strong>UNE seule m√©thode</strong> dans l'interface</li>
        <li>Param√®tres simples : <code>compare(String word)</code>, <code>calculate(int x)</code></li>
        <li>But : <strong>Changer d'algorithme</strong> dynamiquement</li>
        <li>Exemple : Diff√©rentes m√©thodes de tri, filtrage, calcul</li>
    </ul>
    <pre><code>public interface Strategy {
    boolean compare(String word);  // UNE m√©thode
}

Strategy s = new StartsWithStrategy('t');
boolean result = s.compare("test");</code></pre>

    <h3>üëÅÔ∏è Visitor Pattern</h3>
    <ul>
        <li><strong>PLUSIEURS m√©thodes</strong> (une par type de n≈ìud)</li>
        <li>Param√®tres : <strong>objets sp√©cifiques</strong> : <code>visitCircle(Circle c)</code>, <code>visitSquare(Square s)</code></li>
        <li>But : <strong>Parcourir/traiter une structure</strong> (souvent Composite)</li>
        <li>Les √©l√©ments ont une m√©thode <code>accept(Visitor v)</code></li>
        <li>Exemple : Exporter en XML, calculer surface totale</li>
    </ul>
    <pre><code>public interface Visitor {
    String visitCircle(Circle c);
    String visitSquare(Square s);
    String visitCompound(CompoundShape cs);
}

// Les √©l√©ments acceptent le visiteur
circle.accept(exporter);  // Appelle visitCircle()</code></pre>

    <h3>üîë Comment les reconna√Ætre ?</h3>
    <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
        <thead>
            <tr style="background-color: #4CAF50; color: white;">
                <th style="padding: 10px; border: 1px solid #ddd;">Crit√®re</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Strategy</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Visitor</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="padding: 8px; border: 1px solid #ddd;"><strong>M√©thodes</strong></td>
                <td style="padding: 8px; border: 1px solid #ddd;">1 m√©thode</td>
                <td style="padding: 8px; border: 1px solid #ddd;">Plusieurs (1 par type)</td>
            </tr>
            <tr style="background-color: #f2f2f2;">
                <td style="padding: 8px; border: 1px solid #ddd;"><strong>Param√®tres</strong></td>
                <td style="padding: 8px; border: 1px solid #ddd;">Types simples (String, int)</td>
                <td style="padding: 8px; border: 1px solid #ddd;">Objets sp√©cifiques (Circle, Square)</td>
            </tr>
            <tr>
                <td style="padding: 8px; border: 1px solid #ddd;"><strong>M√©thode accept()</strong></td>
                <td style="padding: 8px; border: 1px solid #ddd;">‚ùå Non</td>
                <td style="padding: 8px; border: 1px solid #ddd;">‚úÖ Oui</td>
            </tr>
            <tr style="background-color: #f2f2f2;">
                <td style="padding: 8px; border: 1px solid #ddd;"><strong>But</strong></td>
                <td style="padding: 8px; border: 1px solid #ddd;">Changer d'algorithme</td>
                <td style="padding: 8px; border: 1px solid #ddd;">Parcourir une structure</td>
            </tr>
        </tbody>
    </table>

    <div style="background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin-top: 20px;">
        <strong>üéì R√©sum√© :</strong>
        <ul style="margin: 10px 0 0 0;">
            <li><strong>Strategy</strong> = "J'ai plusieurs <strong>fa√ßons de faire</strong> la m√™me chose"</li>
            <li><strong>Visitor</strong> = "J'ai une <strong>op√©ration √† appliquer</strong> sur plusieurs <strong>types diff√©rents</strong>"</li>
        </ul>
        <p style="margin-top: 10px;"><strong>Astuce :</strong> Si tu vois <code>accept(Visitor v)</code> ‚Üí c'est un <strong>Visitor</strong> ! üéØ</p>
    </div>
</div>
<div style="background-color: #e3f2fd; border-left: 4px solid #2196F3; padding: 15px; margin-top: 20px;">
    <strong>‚ùì Et si Strategy a plusieurs m√©thodes ?</strong>
    <p style="margin: 10px 0;">
        <strong>Question :</strong> Si j'ai une interface avec 2 fonctions diff√©rentes (<code>validate(String)</code> et <code>format(String)</code>) qui traitent le m√™me objet, c'est Strategy ou Visitor ?
    </p>
    <p style="margin: 10px 0;">
        <strong>R√©ponse :</strong> C'est toujours une <strong>Strategy</strong> ! La cl√© est : <strong>"Chaque m√©thode traite-t-elle un TYPE d'objet DIFF√âRENT ?"</strong>
    </p>
    <ul style="margin: 10px 0;">
        <li><strong>NON</strong> (toutes prennent <code>String</code>, ou <code>int</code>, etc.) ‚Üí <strong>Strategy</strong></li>
        <li><strong>OUI</strong> (une prend <code>Circle</code>, une autre <code>Square</code>, etc.) ‚Üí <strong>Visitor</strong></li>
    </ul>
    <p style="margin: 10px 0;"><strong>Conclusion :</strong> M√™me avec 10 m√©thodes, si elles traitent toutes le <strong>m√™me type</strong>, c'est une <strong>Strategy</strong> ! üéØ</p>
</div>
        </main>
    </div>
</body>
</html>
