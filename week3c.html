<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semaine 3C - Adapter + Decorator + Strategy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Semaine 3C - Bateaux de Guerre</h1>
            <p>Adapter + Decorator + Strategy</p>
        </header>

        <nav>
            <a href="index.html">Accueil</a>
            <a href="theory.html">ThÃ©orie</a>
        </nav>

        <main>
            <h2>ğŸ¯ Exercice : Bateaux de Guerre</h2>
            
            <h3>ğŸ“‹ Description</h3>
            <p>Un systÃ¨me de bateaux de guerre oÃ¹ un Captain commande un bateau qui peut Ãªtre un FishingBoat adaptÃ© en BattleShip. La distance peut Ãªtre en KM ou en Miles.</p>
            <p><strong>Patterns identifiÃ©s :</strong> Adapter, Decorator, Strategy</p>

            <hr>

            <h2>ğŸ”Œ PATTERN 1 : ADAPTER</h2>

            <h3>ğŸ“Š Diagramme UML ThÃ©orique</h3>
            <img src="assets/th/Adapter.png" alt="Diagramme Adapter" style="max-width: 100%; border: 1px solid #ccc; padding: 10px; background: white;">

            <h3>ğŸ¯ Dans l'exercice</h3>
            <p><strong>BattleFishingBoat</strong> adapte <strong>FishingBoat</strong> pour l'interface <strong>BattleShip</strong></p>

            <h3>ğŸ’» Code de l'Adapter</h3>
            <pre>// Target (interface attendue)
public interface BattleShip {
    void fire();
    void move(Distance distance);
}

// Adaptee (classe incompatible)
public class FishingBoat {
    public void sail(Distance distance) { }  // â† MÃ©thode diffÃ©rente
    public void fish() { }                    // â† MÃ©thode diffÃ©rente
}

// ADAPTER - Fait le pont
public class BattleFishingBoat implements BattleShip {
    private FishingBoat boat;  // â† Contient Adaptee
    
    @Override
    public void fire() {
        boat.fish();  // â† fire() â†’ fish() (NOMS DIFFÃ‰RENTS)
    }
    
    @Override
    public void move(Distance distance) {
        boat.sail(distance);  // â† move() â†’ sail() (NOMS DIFFÃ‰RENTS)
    }
}</pre>

            <h3>ğŸ“Š Tableaux de correspondance</h3>

            <h4>Tableau 1 : Participants</h4>
            <table>
                <tr>
                    <th>Participants thÃ©oriques</th>
                    <th>Noms dans le code</th>
                </tr>
                <tr>
                    <td>Client</td>
                    <td>App (main)</td>
                </tr>
                <tr>
                    <td>Target</td>
                    <td>BattleShip</td>
                </tr>
                <tr>
                    <td>Adapter</td>
                    <td>BattleFishingBoat</td>
                </tr>
                <tr>
                    <td>Adaptee</td>
                    <td>FishingBoat</td>
                </tr>
            </table>

            <h4>Tableau 2 : MÃ©thodes</h4>
            <table>
                <tr>
                    <th>MÃ©thodes thÃ©oriques</th>
                    <th>MÃ©thodes dans le code</th>
                </tr>
                <tr>
                    <td>doWork() (Client)</td>
                    <td>captain.fire(), captain.move()</td>
                </tr>
                <tr>
                    <td>methodA() (Adapter)</td>
                    <td>fire(), move()</td>
                </tr>
                <tr>
                    <td>methodB() (Adaptee)</td>
                    <td>fish(), sail()</td>
                </tr>
            </table>

            <h3>ğŸ” Indices pour reconnaÃ®tre Adapter</h3>
            <ul>
                <li>âœ… BattleFishingBoat implÃ©mente BattleShip (Target)</li>
                <li>âœ… Contient FishingBoat (Adaptee - type diffÃ©rent)</li>
                <li>âœ… MÃ©thodes avec noms diffÃ©rents (fireâ†’fish, moveâ†’sail)</li>
                <li>âœ… But : Rendre compatible</li>
            </ul>

            <hr>

            <h2>ğŸ¨ PATTERN 2 : DECORATOR</h2>

            <h3>ğŸ“Š Diagramme UML ThÃ©orique</h3>
            <img src="assets/th/Decorator.png" alt="Diagramme Decorator" style="max-width: 100%; border: 1px solid #ccc; padding: 10px; background: white;">

            <h3>ğŸ¯ Dans l'exercice</h3>
            <p><strong>Captain</strong> dÃ©core un <strong>BattleShip</strong> en ajoutant "Captain's order : "</p>

            <h3>ğŸ’» Code du Decorator</h3>
            <pre>// Component (interface)
public interface BattleShip {
    void fire();
    void move(Distance distance);
}

// ConcreteComponent
public class BattleFishingBoat implements BattleShip {
    // ... implÃ©mentation de base
}

// DECORATOR
public class Captain implements BattleShip {
    private BattleShip battleship;  // â† Contient BattleShip (MÃŠME type)
    
    public Captain(BattleShip battleship) {
        this.battleship = battleship;
    }
    
    @Override
    public void fire() {
        System.out.print("Captain's order : ");  // â† AJOUTE prÃ©fixe
        battleship.fire();  // â† DÃ©lÃ¨gue
    }
    
    @Override
    public void move(Distance distance) {
        System.out.print("Captain's order : ");  // â† AJOUTE prÃ©fixe
        battleship.move(distance);  // â† DÃ©lÃ¨gue
    }
}</pre>

            <h3>ğŸ“Š Tableaux de correspondance</h3>

            <h4>Tableau 1 : Participants</h4>
            <table>
                <tr>
                    <th>Participants thÃ©oriques</th>
                    <th>Noms dans le code</th>
                </tr>
                <tr>
                    <td>Component (interface)</td>
                    <td>BattleShip</td>
                </tr>
                <tr>
                    <td>ConcreteComponent</td>
                    <td>BattleFishingBoat</td>
                </tr>
                <tr>
                    <td>Decorator</td>
                    <td>Captain</td>
                </tr>
            </table>

            <h4>Tableau 2 : MÃ©thodes</h4>
            <table>
                <tr>
                    <th>MÃ©thodes thÃ©oriques</th>
                    <th>MÃ©thodes dans le code</th>
                </tr>
                <tr>
                    <td>operation()</td>
                    <td>fire(), move()</td>
                </tr>
            </table>

            <h3>ğŸ” Indices pour reconnaÃ®tre Decorator</h3>
            <ul>
                <li>âœ… Captain implÃ©mente BattleShip ET contient BattleShip (mÃªme type)</li>
                <li>âœ… Ajoute "Captain's order : " avant chaque action</li>
                <li>âœ… DÃ©lÃ¨gue Ã  battleship.fire()</li>
                <li>âœ… But : Ajouter fonctionnalitÃ©</li>
            </ul>

            <hr>

            <h2>ğŸ¯ PATTERN 3 : STRATEGY</h2>

            <h3>ğŸ“Š Diagramme UML ThÃ©orique</h3>
            <img src="assets/th/strategy.png" alt="Diagramme Strategy" style="max-width: 100%; border: 1px solid #ccc; padding: 10px; background: white;">

            <h3>ğŸ¯ Dans l'exercice</h3>
            <p><strong>Distance</strong> est une stratÃ©gie qui peut Ãªtre en <strong>KM</strong> ou en <strong>Miles</strong></p>

            <h3>ğŸ’» Code de la Strategy</h3>
            <pre>// Strategy (interface)
public interface Distance {
    String getDistance();
}

// ConcreteStrategy A
public class DistanceKM implements Distance {
    private int km;
    
    public DistanceKM(int km) {
        this.km = km;
    }
    
    @Override
    public String getDistance() {
        return km + " kms";
    }
}

// ConcreteStrategy B
public class DistanceMiles implements Distance {
    private int miles;
    
    public DistanceMiles(int miles) {
        this.miles = miles;
    }
    
    @Override
    public String getDistance() {
        return miles + " miles";
    }
}

// Context (utilise la stratÃ©gie)
public void move(Distance distance) {
    System.out.println("Moving " + distance.getDistance());
}</pre>

            <h3>ğŸ“Š Tableaux de correspondance</h3>

            <h4>Tableau 1 : Participants</h4>
            <table>
                <tr>
                    <th>Participants thÃ©oriques</th>
                    <th>Noms dans le code</th>
                </tr>
                <tr>
                    <td>Strategy (interface)</td>
                    <td>Distance</td>
                </tr>
                <tr>
                    <td>ConcreteStrategyA</td>
                    <td>DistanceKM</td>
                </tr>
                <tr>
                    <td>ConcreteStrategyB</td>
                    <td>DistanceMiles</td>
                </tr>
                <tr>
                    <td>Context</td>
                    <td>BattleShip (mÃ©thode move)</td>
                </tr>
            </table>

            <h4>Tableau 2 : MÃ©thodes</h4>
            <table>
                <tr>
                    <th>MÃ©thodes thÃ©oriques</th>
                    <th>MÃ©thodes dans le code</th>
                </tr>
                <tr>
                    <td>execute() / algorithm()</td>
                    <td>getDistance()</td>
                </tr>
            </table>

            <h3>ğŸ” Indices pour reconnaÃ®tre Strategy</h3>
            <ul>
                <li>âœ… Distance est une interface avec UNE mÃ©thode (getDistance)</li>
                <li>âœ… Plusieurs ConcreteStrategy (DistanceKM, DistanceMiles)</li>
                <li>âœ… PassÃ©e en paramÃ¨tre : move(Distance distance)</li>
                <li>âœ… But : Changer d'algorithme (KM ou Miles)</li>
            </ul>

            <hr>

            <h2>ğŸ”„ Flow complet d'exÃ©cution</h2>

            <h3>Code Main</h3>
            <pre>Captain captain = new Captain(new BattleFishingBoat());
captain.move(new DistanceKM(500));
captain.fire();</pre>

            <h3>ExÃ©cution dÃ©taillÃ©e</h3>
            <pre>1. new BattleFishingBoat() crÃ©Ã© (ADAPTER)
   FishingBoat â†’ BattleShip

2. new Captain(battleship) crÃ©Ã© (DECORATOR)
   Enveloppe BattleFishingBoat

3. captain.move(new DistanceKM(500)) appelÃ© (STRATEGY)
   â†“
   Captain.move()
     â†’ Print "Captain's order : "  (DECORATOR)
     â†’ battleship.move(distance)
       â†“
       BattleFishingBoat.move()  (ADAPTER)
         â†’ boat.sail(distance)
           â†“
           FishingBoat.sail()
             â†’ Print "The Boat is moving 500 kms"  (STRATEGY)

4. captain.fire() appelÃ©
   â†“
   Captain.fire()
     â†’ Print "Captain's order : "  (DECORATOR)
     â†’ battleship.fire()
       â†“
       BattleFishingBoat.fire()  (ADAPTER)
         â†’ boat.fish()
           â†“
           FishingBoat.fish()
             â†’ Print "fishing ..."</pre>

            <h3>Output</h3>
            <pre>Captain's order : The Boat is moving 500 kms
Captain's order : fishing ...</pre>

            <hr>

            <h2>ğŸ†š Comparaison des 3 patterns</h2>

            <table>
                <tr>
                    <th>Aspect</th>
                    <th>ADAPTER</th>
                    <th>DECORATOR</th>
                    <th>STRATEGY</th>
                </tr>
                <tr>
                    <td><strong>But</strong></td>
                    <td>CompatibilitÃ©</td>
                    <td>Ajouter fonctionnalitÃ©</td>
                    <td>Changer algorithme</td>
                </tr>
                <tr>
                    <td><strong>Contient</strong></td>
                    <td>Type diffÃ©rent</td>
                    <td>MÃªme type</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td><strong>MÃ©thodes</strong></td>
                    <td>Noms diffÃ©rents</td>
                    <td>MÃªmes noms</td>
                    <td>UNE mÃ©thode</td>
                </tr>
                <tr>
                    <td><strong>Exemple</strong></td>
                    <td>fire() â†’ fish()</td>
                    <td>Ajoute "Captain's order"</td>
                    <td>KM ou Miles</td>
                </tr>
            </table>

            <hr>

            <h2>ğŸ’¡ Points clÃ©s</h2>

            <h3>ADAPTER (BattleFishingBoat)</h3>
            <ul>
                <li>Rend FishingBoat compatible avec BattleShip</li>
                <li>Traduit fire()â†’fish() et move()â†’sail()</li>
                <li>Type contenu diffÃ©rent</li>
            </ul>

            <h3>DECORATOR (Captain)</h3>
            <ul>
                <li>Ajoute "Captain's order : " avant chaque action</li>
                <li>Enveloppe un BattleShip</li>
                <li>Type contenu identique</li>
            </ul>

            <h3>STRATEGY (Distance)</h3>
            <ul>
                <li>Permet de choisir entre KM et Miles</li>
                <li>UNE mÃ©thode : getDistance()</li>
                <li>PassÃ©e en paramÃ¨tre</li>
            </ul>

        </main>

        <footer>
            <p>Â© 2024 Design Patterns Course</p>
        </footer>
    </div>
</body>
</html>
