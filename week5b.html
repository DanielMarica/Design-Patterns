<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semaine 5B - Template Method & Facade</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Style pour le tableau de comparaison */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.9em;
            font-family: sans-serif;
            min-width: 400px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
        }
        .comparison-table thead tr {
            background-color: #009879;
            color: #ffffff;
            text-align: left;
        }
        .comparison-table th,
        .comparison-table td {
            padding: 12px 15px;
            border: 1px solid #dddddd;
        }
        .comparison-table tbody tr {
            border-bottom: 1px solid #dddddd;
        }
        .comparison-table tbody tr:nth-of-type(even) {
            background-color: #f3f3f3;
        }
        .comparison-table tbody tr:last-of-type {
            border-bottom: 2px solid #009879;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Semaine 5B</h1>
            <p>Template Method + Facade</p>
        </header>

        <nav>
            <a href="index.html">Accueil</a>
            <a href="theory.html">Th√©orie</a>
        </nav>

        <main>

            <h2 id="template-method">üìã PATTERN 1 : TEMPLATE METHOD</h2>

            <h3>‚úÖ Comment le reconna√Ætre</h3>
            <div style="background-color: #fafafa; border: 1px solid #ccc; padding: 15px; margin: 20px 0;">
                <p><strong>Trucs et astuces :</strong></p>
                <ul>
                    <li>‚úÖ Classe <strong>abstraite</strong> avec une m√©thode <strong>concr√®te</strong> (le template)</li>
                    <li>‚úÖ Le template appelle des m√©thodes <strong>abstraites</strong> (primitive operations)</li>
                    <li>‚úÖ Les sous-classes <strong>impl√©mentent</strong> les m√©thodes abstraites</li>
                    <li>‚úÖ Le squelette de l'algorithme est <strong>fix√©</strong>, les d√©tails sont <strong>variables</strong></li>
                    <li>‚úÖ Peut avoir des m√©thodes "hook" (optionnelles, avec impl√©mentation par d√©faut)</li>
                </ul>
                <p><strong>Phrase cl√© :</strong> "Je reconnais Template Method gr√¢ce √† une classe abstraite avec une m√©thode concr√®te qui appelle des m√©thodes abstraites que les sous-classes doivent impl√©menter."</p>
            </div>

            <h3>üìä Sch√©ma th√©orique</h3>
            <img src="assets/th/TemplateMethod.png" alt="Diagramme Template Method Th√©orique" style="max-width: 100%; border: 1px solid #ccc; padding: 10px; background: white;">

            <h3>üñºÔ∏è Sch√©ma de l'exercice</h3>
            <p><em>Le diagramme montre uniquement les classes li√©es au pattern Template Method (DwarvenMineWorker et ses sous-classes).</em></p>
            <figure style="text-align:center;">
                <img src="assets/exos/TemplateMethod.png" alt="Diagramme UML du pattern Template Method (Exercice Dwarven)" style="max-width: 100%; border: 1px solid #ccc; padding: 10px; background: white;">
                <figcaption>Figure : Diagramme UML du pattern Template Method - Uniquement DwarvenMineWorker et ses sous-classes (DwarvenGoldDigger, DwarvenCartOperator, DwarvenTunnelDigger)</figcaption>
            </figure>

            <h3>üîç Correspondance Th√©orie / Exercice</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Participants th√©oriques</th>
                        <th>Noms utilis√©s dans le code</th>
                        <th>Explication</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>AbstractClass</strong><br>(Classe Abstraite)</td>
                        <td><code>DwarvenMineWorker</code></td>
                        <td>Classe abstraite qui d√©finit le template method et les m√©thodes concr√®tes.</td>
                    </tr>
                    <tr>
                        <td><strong>templateMethod()</strong><br>(M√©thode Template)</td>
                        <td><code>action(Action... actions)</code></td>
                        <td>M√©thode concr√®te qui orchestre l'ex√©cution des actions. C'est le squelette de l'algorithme.</td>
                    </tr>
                    <tr>
                        <td><strong>primitiveOperation()</strong><br>(Op√©ration Abstraite)</td>
                        <td><code>work()</code><br><code>name()</code></td>
                        <td>M√©thodes abstraites que les sous-classes DOIVENT impl√©menter. Chaque type de worker a son propre travail.</td>
                    </tr>
                    <tr>
                        <td><strong>hook()</strong><br>(M√©thode Hook)</td>
                        <td><code>goToSleep()</code><br><code>wakeUp()</code><br><code>goHome()</code><br><code>goToMine()</code></td>
                        <td>M√©thodes concr√®tes avec impl√©mentation par d√©faut. Les sous-classes peuvent les r√©utiliser ou les surcharger.</td>
                    </tr>
                    <tr>
                        <td><strong>ConcreteClass</strong><br>(Classe Concr√®te)</td>
                        <td><code>DwarvenGoldDigger</code><br><code>DwarvenCartOperator</code><br><code>DwarvenTunnelDigger</code></td>
                        <td>Classes concr√®tes qui impl√©mentent les op√©rations abstraites (work et name).</td>
                    </tr>
                </tbody>
            </table>

            <h3>üíª Code principal (structure)</h3>

            <h4>1. La Classe Abstraite (AbstractClass)</h4>
            <pre><code>package be.vinci.Ex5B;

public abstract class DwarvenMineWorker {

  // ===== HOOKS (m√©thodes concr√®tes par d√©faut) =====
  public void goToSleep() {
    System.out.println(name()+" va dormir.");
  }

  public void wakeUp() {
    System.out.println(name()+" se r√©veille.");
  }

  public void goHome() {
    System.out.println(name()+" rentre chez lui.");
  }

  public void goToMine() {
    System.out.println(name()+" va √† la mine.");
  }

  // ===== TEMPLATE METHOD (m√©thode concr√®te) =====
  // Orchestre l'ex√©cution des actions
  public void action(Action... actions) {
    for (Action action : actions) {
      action(action);
    }
  }

  private void action(Action action) {
    switch (action) {
      case GO_TO_SLEEP:
        goToSleep();
        break;
      case WAKE_UP:
        wakeUp();
        break;
      case GO_HOME:
        goHome();
        break;
      case GO_TO_MINE:
        goToMine();
        break;
      case WORK:
        work();  // ‚Üê Appelle la m√©thode abstraite !
        break;
      default:
        System.out.println("Action non definie");
        break;
    }
  }

  // ===== PRIMITIVE OPERATIONS (m√©thodes abstraites) =====
  // Les sous-classes DOIVENT les impl√©menter
  public abstract void work();
  public abstract String name();

  static enum Action {
    GO_TO_SLEEP, WAKE_UP, GO_HOME, GO_TO_MINE, WORK
  }
}</code></pre>

            <h4>2. Les Classes Concr√®tes (ConcreteClass)</h4>
            <pre><code>// DwarvenGoldDigger.java
public class DwarvenGoldDigger extends DwarvenMineWorker {
  @Override
  public void work() {
    System.out.println(name()+" creuse pour trouver de l'or.");
  }

  @Override
  public String name() {
    return "Chercheur d'or nain";
  }
}

// DwarvenCartOperator.java
public class DwarvenCartOperator extends DwarvenMineWorker {
  @Override
  public void work() {
    System.out.println(name()+" enl√®ve du minerai d'or de la mine.");
  }

  @Override
  public String name() {
    return "Op√©rateur de chariot nain";
  }
}

// DwarvenTunnelDigger.java
public class DwarvenTunnelDigger extends DwarvenMineWorker {
  @Override
  public void work() {
    System.out.println(name()+" cr√©e un nouveau tunnel, cela sent l'or.");
  }

  @Override
  public String name() {
    return "Tunnelier nain";
  }
}</code></pre>

            <h4>3. Utilisation</h4>
            <pre><code>// Cr√©er un worker
DwarvenMineWorker worker = new DwarvenGoldDigger();

// Utiliser le template method
worker.action(Action.WAKE_UP, Action.GO_TO_MINE, Action.WORK);</code></pre>


            <h2 id="facade">üèõÔ∏è PATTERN 2 : FACADE</h2>

            <h3>‚úÖ Comment le reconna√Ætre</h3>
            <div style="background-color: #fafafa; border: 1px solid #ccc; padding: 15px; margin: 20px 0;">
                <p><strong>Trucs et astuces :</strong></p>
                <ul>
                    <li>‚úÖ Une classe qui <strong>simplifie l'utilisation</strong> d'un syst√®me complexe</li>
                    <li>‚úÖ Fournit une <strong>interface simple</strong> pour des op√©rations complexes</li>
                    <li>‚úÖ <strong>Cache la complexit√©</strong> des sous-syst√®mes</li>
                    <li>‚úÖ Le client n'a pas besoin de conna√Ætre les d√©tails internes</li>
                    <li>‚úÖ Coordonne plusieurs objets en une seule m√©thode</li>
                </ul>
                <p><strong>Phrase cl√© :</strong> "Je reconnais Facade gr√¢ce √† une classe qui simplifie l'utilisation d'un syst√®me complexe en fournissant une interface simple."</p>
            </div>

            <h3>üìä Sch√©ma th√©orique</h3>
            <img src="assets/th/Facades.png" alt="Diagramme Facade Th√©orique" style="max-width: 100%; border: 1px solid #ccc; padding: 10px; background: white;">

            <h3>üñºÔ∏è Sch√©ma de l'exercice</h3>
            <p><em>Le diagramme montre uniquement la classe Facade (DwarvenGoldmine) et sa relation avec les workers.</em></p>
            <figure style="text-align:center;">
                <img src="assets/exos/Facades.png" alt="Diagramme UML du pattern Facade (Exercice Dwarven)" style="max-width: 100%; border: 1px solid #ccc; padding: 10px; background: white;">
                <figcaption>Figure : Diagramme UML du pattern Facade - Uniquement DwarvenGoldmine (Facade) qui orchestre les workers</figcaption>
            </figure>

            <h3>üîç Correspondance Th√©orie / Exercice</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Participants th√©oriques</th>
                        <th>Noms utilis√©s dans le code</th>
                        <th>Explication</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Facade</strong><br>(La Fa√ßade)</td>
                        <td><code>DwarvenGoldmine</code></td>
                        <td>Classe qui simplifie la gestion de tous les workers. Fournit des m√©thodes simples comme <code>startNewDay()</code>.</td>
                    </tr>
                    <tr>
                        <td><strong>Subsystem Classes</strong><br>(Sous-syst√®mes)</td>
                        <td><code>DwarvenGoldDigger</code><br><code>DwarvenCartOperator</code><br><code>DwarvenTunnelDigger</code></td>
                        <td>Classes complexes que la Facade orchestre. Le client n'a pas besoin de les conna√Ætre directement.</td>
                    </tr>
                    <tr>
                        <td><strong>Client</strong></td>
                        <td><code>Main</code></td>
                        <td>Utilise la Facade pour des op√©rations simples sans conna√Ætre la complexit√© interne.</td>
                    </tr>
                </tbody>
            </table>

            <h3>üíª Code principal (structure)</h3>

            <h4>1. La Facade (Simplifie l'utilisation)</h4>
            <pre><code>package be.vinci.Ex5B;

import java.util.ArrayList;
import java.util.Collection;
import java.util.List;

public class DwarvenGoldmine {

  private final List&lt;DwarvenMineWorker&gt; workers;

  public DwarvenGoldmine() {
    // Construction du syst√®me complexe
    workers = new ArrayList&lt;&gt;();
    workers.add(new DwarvenGoldDigger());
    workers.add(new DwarvenCartOperator());
    workers.add(new DwarvenTunnelDigger());
  }

  // ===== INTERFACE SIMPLIFI√âE =====
  // Le client appelle juste ces 3 m√©thodes !
  
  public void startNewDay() {
    makeActions(workers, 
                DwarvenMineWorker.Action.WAKE_UP, 
                DwarvenMineWorker.Action.GO_TO_MINE);
  }

  public void digOutGold() {
    makeActions(workers, DwarvenMineWorker.Action.WORK);
  }

  public void endDay() {
    makeActions(workers, 
                DwarvenMineWorker.Action.GO_HOME, 
                DwarvenMineWorker.Action.GO_TO_SLEEP);
  }

  // M√©thode priv√©e qui cache la complexit√©
  private static void makeActions(Collection&lt;DwarvenMineWorker&gt; workers,
                                   DwarvenMineWorker.Action... actions) {
    for (DwarvenMineWorker worker : workers) {
      worker.action(actions);
    }
  }
}</code></pre>

            <h4>2. Le Client (Main) - Interface Simplifi√©e !</h4>
            <pre><code>package be.vinci.Ex5B;

public class Main {
  public static void main(String[] args) {
    // Cr√©ation de la facade
    DwarvenGoldmine jjGoldmine = new DwarvenGoldmine();
    
    // Utilisation SIMPLE gr√¢ce √† la Facade !
    jjGoldmine.startNewDay();  // ‚Üê Une seule ligne !
    jjGoldmine.digOutGold();   // ‚Üê Une seule ligne !
    jjGoldmine.endDay();       // ‚Üê Une seule ligne !
  }
}</code></pre>

            <h4>3. Comparaison : Avec vs Sans Facade</h4>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div style="background-color: #d4edda; border: 1px solid #c3e6cb; padding: 15px;">
                    <h5 style="color: #155724;">‚úÖ AVEC Facade (Simple)</h5>
                    <pre><code>DwarvenGoldmine mine = new DwarvenGoldmine();
mine.startNewDay();
mine.digOutGold();
mine.endDay();</code></pre>
                    <p><strong>3 lignes claires et simples !</strong></p>
                </div>
                
                <div style="background-color: #f8d7da; border: 1px solid #f5c6cb; padding: 15px;">
                    <h5 style="color: #721c24;">‚ùå SANS Facade (Complexe)</h5>
                    <pre><code>List&lt;DwarvenMineWorker&gt; workers = new ArrayList&lt;&gt;();
workers.add(new DwarvenGoldDigger());
workers.add(new DwarvenCartOperator());
workers.add(new DwarvenTunnelDigger());

for (DwarvenMineWorker w : workers) {
    w.action(Action.WAKE_UP, Action.GO_TO_MINE);
}
for (DwarvenMineWorker w : workers) {
    w.action(Action.WORK);
}
for (DwarvenMineWorker w : workers) {
    w.action(Action.GO_HOME, Action.GO_TO_SLEEP);
}</code></pre>
                    <p><strong>15+ lignes r√©p√©titives et complexes !</strong></p>
                </div>
            </div>


            <hr>

            <h2 id="not-state">‚ùì POURQUOI CE N'EST PAS STATE ?</h2>

            <div style="background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 20px; margin: 20px 0;">
                <h3>ü§î La Question</h3>
                <p>"Il y a plusieurs <code>Action</code> (GO_TO_SLEEP, WAKE_UP, GO_HOME...), ce sont des √©tats non ? Donc c'est le pattern State ?"</p>
                
                <h3>‚ùå Non, ce n'est PAS State !</h3>
                
                <h4>Les 3 Diff√©rences Critiques :</h4>
                
                <table class="comparison-table" style="margin-top: 15px;">
                    <thead>
                        <tr>
                            <th>Crit√®re</th>
                            <th>Pattern State</th>
                            <th>Notre Code (Template Method)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>√âtat stock√© ?</strong></td>
                            <td>‚úÖ Oui : <code>private State currentState</code></td>
                            <td>‚ùå Non : pas d'attribut d'√©tat</td>
                        </tr>
                        <tr>
                            <td><strong>Comportement d√©pend de l'√©tat ?</strong></td>
                            <td>‚úÖ Oui : <code>state.handle()</code> agit diff√©remment</td>
                            <td>‚ùå Non : chaque action est ind√©pendante</td>
                        </tr>
                        <tr>
                            <td><strong>Transition d'√©tat ?</strong></td>
                            <td>‚úÖ Oui : <code>setState(newState)</code></td>
                            <td>‚ùå Non : juste ex√©cution d'actions</td>
                        </tr>
                    </tbody>
                </table>

                <h4>üìù Explication D√©taill√©e</h4>
                
                <h5>1. Les <code>Action</code> ne sont PAS des √©tats :</h5>
                <ul>
                    <li>Ce sont des <strong>commandes/actions ponctuelles</strong></li>
                    <li>Elles ne changent pas le <strong>comportement</strong> du worker</li>
                    <li>Le worker n'a pas d'√©tat interne qui persiste</li>
                </ul>

                <h5>2. Notre code ex√©cute juste des actions :</h5>
                <pre><code>worker.action(Action.WAKE_UP);   // Action 1
worker.action(Action.GO_TO_MINE); // Action 2
worker.action(Action.WORK);       // Action 3

// Le worker n'a PAS chang√© d'√©tat !
// Il a juste ex√©cut√© 3 actions diff√©rentes</code></pre>

                <h5>3. Exemple de VRAI State Pattern :</h5>
                <pre><code>// ‚úÖ Pattern State (avec √©tat interne)
public class LightSwitch {
    private State state;  // ‚Üê √âtat stock√© !
    
    public LightSwitch() {
        state = new OffState();
    }
    
    public void press() {
        state.press(this);  // Comportement d√©pend de l'√©tat
    }
    
    public void setState(State newState) {
        this.state = newState;  // ‚Üê Transition d'√©tat !
    }
}

interface State {
    void press(LightSwitch context);
}

class OffState implements State {
    public void press(LightSwitch context) {
        System.out.println("Allume");
        context.setState(new OnState());  // Transition
    }
}

class OnState implements State {
    public void press(LightSwitch context) {
        System.out.println("√âteint");
        context.setState(new OffState());  // Transition
    }
}</code></pre>

                <h4>üéØ R√©sum√©</h4>
                <div style="background-color: #d1ecf1; border: 1px solid #bee5eb; padding: 15px; margin-top: 15px;">
                    <p><strong>Notre code :</strong></p>
                    <ul>
                        <li>‚úÖ <strong>Template Method</strong> : D√©finit un algorithme avec des √©tapes variables</li>
                        <li>‚úÖ <strong>Facade</strong> : Simplifie l'utilisation du syst√®me</li>
                        <li>‚ùå <strong>PAS State</strong> : Les <code>Action</code> sont des commandes, pas des √©tats</li>
                    </ul>
                    <p><strong>Pour √™tre State, il faudrait :</strong></p>
                    <ul>
                        <li>Un attribut <code>private State currentState</code></li>
                        <li>Des transitions : <code>setState(newState)</code></li>
                        <li>Un comportement qui change selon l'√©tat actuel</li>
                    </ul>
                </div>
            </div>


            <hr>

            <h2 id="not-composite">üå≥ POURQUOI CE N'EST PAS COMPOSITE ?</h2>

            <div style="background-color: #e7f3ff; border-left: 4px solid #2196F3; padding: 20px; margin: 20px 0;">
                <h3>ü§î La Question</h3>
                <p>"<code>DwarvenGoldmine</code> contient une <code>List&lt;DwarvenMineWorker&gt;</code> et les traite uniform√©ment. N'est-ce pas un Composite ? <code>DwarvenMineWorker</code> serait le Component et <code>DwarvenGoldmine</code> serait le Composite ?"</p>
                
                <h3>‚ùå Non, ce n'est PAS Composite !</h3>
                
                <h4>Les 3 Crit√®res Manquants :</h4>
                
                <table class="comparison-table" style="margin-top: 15px;">
                    <thead>
                        <tr>
                            <th>Crit√®re</th>
                            <th>Pattern Composite</th>
                            <th>Notre Code (Facade)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Interface commune</strong></td>
                            <td>‚úÖ Composite <strong>impl√©mente</strong> Component</td>
                            <td>‚ùå Mine <strong>n'impl√©mente pas</strong> Worker</td>
                        </tr>
                        <tr>
                            <td><strong>M√©thode identique</strong></td>
                            <td>‚úÖ <code>operation()</code> partout</td>
                            <td>‚ùå <code>action()</code> vs <code>startNewDay()</code></td>
                        </tr>
                        <tr>
                            <td><strong>R√©cursivit√©</strong></td>
                            <td>‚úÖ Composite peut contenir Composite</td>
                            <td>‚ùå Pas de structure arborescente</td>
                        </tr>
                    </tbody>
                </table>

                <h4>üìù Explication D√©taill√©e</h4>
                
                <h5>1. Crit√®re #1 : Interface commune manquante</h5>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 15px 0;">
                    <div style="background-color: #d4edda; border: 1px solid #c3e6cb; padding: 15px;">
                        <h6 style="color: #155724;">‚úÖ Vrai Composite</h6>
                        <pre><code>interface Component {
    void operation();
}

class Leaf implements Component {
    void operation() { ... }
}

class Composite implements Component {
    List&lt;Component&gt; children;
    void operation() {
        for (Component c : children) {
            c.operation();
        }
    }
}</code></pre>
                        <p><strong>Le Composite EST un Component !</strong></p>
                    </div>
                    
                    <div style="background-color: #f8d7da; border: 1px solid #f5c6cb; padding: 15px;">
                        <h6 style="color: #721c24;">‚ùå Notre Code</h6>
                        <pre><code>abstract class DwarvenMineWorker {
    void action(Action... actions) { ... }
}

class DwarvenGoldDigger 
    extends DwarvenMineWorker { ... }

class DwarvenGoldmine {  // ‚ùå Pas extends !
    List&lt;DwarvenMineWorker&gt; workers;
    void startNewDay() { ... }  // M√©thode diff√©rente
}</code></pre>
                        <p><strong>La Mine N'EST PAS un Worker !</strong></p>
                    </div>
                </div>

                <h5>2. Crit√®re #2 : Pas de r√©cursivit√©</h5>
                <pre><code>// ‚úÖ Composite : Structure arborescente possible
Composite root = new Composite();
Composite subGroup = new Composite();
subGroup.add(new Leaf());
root.add(subGroup);  // ‚Üê Composite dans Composite !

// ‚ùå Notre code : Impossible
DwarvenGoldmine mine = new DwarvenGoldmine();
// mine.add(new DwarvenGoldmine());  ‚Üê Impossible !
// La mine ne peut pas contenir d'autres mines</code></pre>

                <h5>3. Crit√®re #3 : Interface diff√©rente</h5>
                <pre><code>// ‚úÖ Composite : M√™me m√©thode partout
worker.operation();
composite.operation();  // M√™me interface !

// ‚ùå Notre code : M√©thodes diff√©rentes
worker.action(Action.WORK);  // Pour les workers
mine.startNewDay();          // Pour la mine (diff√©rent !)</code></pre>

                <h4>üéØ Ce que nous avons r√©ellement</h4>
                <p><strong>Facade + Simple Collection</strong></p>
                <pre><code>// C'est une FACADE qui coordonne des workers
class DwarvenGoldmine {  // Facade
    List&lt;DwarvenMineWorker&gt; workers;  // Simple collection
    
    // Interface simplifi√©e (‚â† interface des workers)
    void startNewDay() { ... }
    void digOutGold() { ... }
    void endDay() { ... }
}</code></pre>

                <h4>‚úÖ Pour que ce SOIT un Composite :</h4>
                <p>Il faudrait refactorer comme ceci :</p>
                <pre><code>// 1. Interface commune
interface MineComponent {
    void doWork();
}

// 2. Leaf (worker individuel)
class DwarvenGoldDigger implements MineComponent {
    public void doWork() {
        System.out.println("Creuse");
    }
}

// 3. Composite (mine = groupe)
class DwarvenGoldmine implements MineComponent {  // ‚Üê Impl√©mente Component !
    private List&lt;MineComponent&gt; workers;
    
    public void doWork() {  // ‚Üê M√™me m√©thode !
        for (MineComponent w : workers) {
            w.doWork();
        }
    }
}

// 4. Utilisation uniforme
MineComponent worker = new DwarvenGoldDigger();
MineComponent mine = new DwarvenGoldmine();
mine.add(worker);

// M√™me interface partout !
worker.doWork();
mine.doWork();</code></pre>

                <h4>üîë R√©sum√©</h4>
                <div style="background-color: #fff3cd; border: 1px solid #856404; padding: 15px; margin-top: 15px;">
                    <p><strong>R√®gle d'or du Composite :</strong></p>
                    <p><em>"Le conteneur DOIT impl√©menter la m√™me interface que les √©l√©ments qu'il contient."</em></p>
                    
                    <p style="margin-top: 15px;"><strong>Dans notre code :</strong></p>
                    <ul>
                        <li>‚úÖ <code>DwarvenGoldmine</code> contient des <code>DwarvenMineWorker</code></li>
                        <li>‚ùå <code>DwarvenGoldmine</code> n'est PAS un <code>DwarvenMineWorker</code></li>
                        <li>‚û°Ô∏è Donc c'est une <strong>Facade</strong>, pas un <strong>Composite</strong></li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>‚ö†Ô∏è Pi√®ge classique :</strong> Toute collection d'objets trait√©s uniform√©ment n'est pas forc√©ment un Composite !</p>
                </div>
            </div>


            <hr>

            <h2>üí° Conseils Suppl√©mentaires</h2>

            <h3>‚ö†Ô∏è Pi√®ges √† √©viter</h3>

            <div style="background-color: #fff3cd; border: 1px solid #856404; padding: 15px; margin: 20px 0;">
                <h4>Template Method vs Strategy</h4>
                <ul>
                    <li><strong>Template Method :</strong> Utilise l'<strong>h√©ritage</strong>. Classe abstraite avec m√©thodes abstraites.</li>
                    <li><strong>Strategy :</strong> Utilise la <strong>composition</strong>. Interface inject√©e via constructeur/setter.</li>
                </ul>

                <h4>Facade vs Adapter</h4>
                <ul>
                    <li><strong>Facade :</strong> <strong>Simplifie</strong> un syst√®me complexe. Interface plus simple.</li>
                    <li><strong>Adapter :</strong> <strong>Convertit</strong> une interface en une autre. Adapte une interface existante.</li>
                </ul>
                
                <h4>Actions (Enum) vs State Pattern</h4>
                <ul>
                    <li><strong>Enum d'actions :</strong> Liste de <strong>commandes</strong> √† ex√©cuter. Pas d'√©tat persistant.</li>
                    <li><strong>State Pattern :</strong> <strong>√âtat interne</strong> qui change le comportement. Transitions entre √©tats.</li>
                </ul>
            </div>

            <h3>üìö Points Cl√©s √† Retenir</h3>
            <ul>
                <li><strong>Template Method</strong> fixe le squelette, les sous-classes remplissent les d√©tails</li>
                <li><strong>Facade</strong> cache la complexit√© et fournit une interface simple</li>
                <li>Les <strong>Actions</strong> ne sont pas des <strong>√âtats</strong></li>
                <li><strong>Template Method</strong> = H√©ritage, <strong>Strategy</strong> = Composition</li>
                <li><strong>Composite</strong> = Le conteneur impl√©mente la m√™me interface que ses √©l√©ments</li>
                <li><strong>Facade avec Collection</strong> ‚â† <strong>Composite</strong></li>
            </ul>

        </main>

        <footer>
            <p>¬© 2024 Design Patterns Course</p>
        </footer>
    </div>
</body>
</html>
